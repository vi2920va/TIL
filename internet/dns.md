# DNS와 작동원리

### DNS 개요

DNS\(Domain Name Server\) 특정 컴퓨터 또는 네트워크로 연결된 임의의 장치의 주소를 찾기 위해, 사람이 이해하기 쉬운 도메인 이름을 숫자로 IP 주소로 변환해주는 시스템이다.  DNS는 흔히 "**전화번호부"**로 비유할 수 있다.

### DNS의 구성요소

#### 1\) Domain Name Space

DNS는 거대한 분산 네이밍 시스템이며, 도메인 네임 스페이스\(domain name space\)는 이러한 DNS가 저장, 관리하는 계층적 구조를 말한다. 최상위 Root DNS 서버가 존재하고 그 하위로는 인터넷에 연결될 모든 노드가 연속해서 이어진 계층 구조로 구성되어 있다. 각 레벨\(top level, second level등\)의 도메인은 그 하위 도메인에 관한 정보를 관리하는 구조이다.

#### 2\) Name Server

문자열로 표현된 도메인 이름을 실제 컴퓨터가 통신할 때 사용하는 표현된  IP 주소로 변환 시켜주어야 한다. 이러한 동작을 위해서는 도메인 네임 스페이스는 트리 구조에 대한 정보가 필요하며, 이러한 정보를 가지고 있는 서버를 네임 서버\(name server\)라고 한다. 

즉, 도메인 이름을 IP 주소로 변환하는 것을 네임 서비스 라고 하며 리졸버\(resolver\)로 부터 요청 받은 도메인 이름에 대한 IP 정보를 다시 리졸버로 전달해주는 역할을 수행하는 것이 네임 서버이다. 

#### 3\) Resolver

리졸버\(resolver\)는 웹 브라우저와 같은 DNS 클라이언트의 요청을 네임 서버로 전달하고 네임 서버로 부터 정보\(도메인 이름과 IP 주소\)를 받아 클라이언트에게 제공하는 기능을 수행한다. 이 과정에서 리졸버는 하나의 네임 서버에게 DNS 요청을 전달하고 해당 서버에 정보가 없으면 다른 네임 서버에게 요청을 보내 정보를 받아 온다.

### DNS 서비스 유형

#### 1\) 신뢰할 수 있는 DNS

개발자가 퍼블릭 DNS 이름을 관리하는데 사용하는 업데이트 메커니즘을 제공한다. 이를 통해 DNS 쿼리에 응답하여 도메인 이름을 IP  주소로 변환한다.

신뢰할 수 있는 DNS는 도메인에 대해 최종 권한이 있고, 재귀적 DNS서버에 IP 주소 정보가 담긴 답을 제공할 책임이 있다.

#### 2\) 재귀적 DNS

보통 클라이언트는 신뢰할 수 있는 DNS 서비스에 직접 쿼리를 수행하지 않는다. 해석기 또는 재귀적 DNS 서비스라고 알려진 다른 유형의 DNS 서비스에 연결하는 경우가 일반적이다.

재귀적 DNS 서비스는 호텔 컨시지와 같은 역할을 한다. DNS 레코드를 소유하고 있지 않지만 사용자 대신해서 DNS 정보를 가져 올 수 있는 중간자의 역을 한다.

일정 기간 동안 캐시된 또는 저장된 DNS 레퍼런스를 가지고 있는 경우, 소스 또는 IP 정보를 제공하여 DNS 쿼리에 답하거나, 해당 정보를 찾기 위해 쿼리를 하나 이상의 신뢰할 수 있는 DNS서버에 전달해야 한다.

### 



